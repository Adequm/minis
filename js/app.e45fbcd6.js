(function(e){function _(_){for(var s,a,n=_[0],o=_[1],c=_[2],l=0,d=[];l<n.length;l++)a=n[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(_);while(d.length)d.shift()();return i.push.apply(i,c||[]),t()}function t(){for(var e,_=0;_<i.length;_++){for(var t=i[_],s=!0,n=1;n<t.length;n++){var o=t[n];0!==r[o]&&(s=!1)}s&&(i.splice(_--,1),e=a(a.s=t[0]))}return e}var s={},r={app:0},i=[];function a(_){if(s[_])return s[_].exports;var t=s[_]={i:_,l:!1,exports:{}};return e[_].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=s,a.d=function(e,_,t){a.o(e,_)||Object.defineProperty(e,_,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,_){if(1&_&&(e=a(e)),8&_)return e;if(4&_&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&_&&"string"!=typeof e)for(var s in e)a.d(t,s,function(_){return e[_]}.bind(null,s));return t},a.n=function(e){var _=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(_,"a",_),_},a.o=function(e,_){return Object.prototype.hasOwnProperty.call(e,_)},a.p="/calculator/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],o=n.push.bind(n);n.push=_,n=n.slice();for(var c=0;c<n.length;c++)_(n[c]);var u=o;i.push([0,"chunk-vendors"]),t()})({0:function(e,_,t){e.exports=t("56d7")},3960:function(e,_,t){"use strict";t("5c73")},"56d7":function(e,_,t){"use strict";t.r(_);t("e260"),t("e6cf"),t("cca6"),t("a79d");var s=t("2b0e"),r=function(){var e=this,_=e.$createElement,t=e._self._c||_;return t("div",{staticClass:"container",style:{height:e.innerHeight+"px"}},[t("Calculator",{attrs:{history:e.history,isDark:"dark"==e.theme},on:{switchTheme:e.switchTheme,addToHistory:e.addToHistory,clearHistory:e.clearHistory}})],1)},i=[],a=t("5530"),n=function(){var e=this,_=e.$createElement,t=e._self._c||_;return t("div",{staticClass:"wrapper",class:{dark:e.isDark}},[t("div",{ref:"calculator",staticClass:"calculator"},[t("div",{staticClass:"theme",on:{click:function(_){return e.$emit("switchTheme")}}},[t("Icon",{staticStyle:{cursor:"pointer"},attrs:{type:e.isDark?"sun":"moon"}})],1),t("div",{staticClass:"calculator__display"},[t("div",{ref:"calculator__history",staticClass:"calculator__history"},[t("div",{staticClass:"calculator__history_container"},e._l(e.history,(function(_,s){var r=_[0],i=_[1];return t("span",{key:s+"|"+e.value,domProps:{textContent:e._s(e.getHistoryPoint(r,i,s))},on:{click:function(_){e.value=r}}})})),0)]),t("div",{ref:"calculator__current",staticClass:"calculator__current",class:{equal:e.historyLast==e.value},style:{opacity:e.value.length?"1":".25",fontSize:e.fontSize+"em"},attrs:{"data-brackets":e.endsBrackets},domProps:{textContent:e._s(e.extendedValue||0)}})]),t("div",{staticClass:"calculator__buttons"},[t("div",{staticClass:"calculator__wrap-row"},[t("div",{staticClass:"calculator__button",on:{click:e.clear}},[e._v("AC")]),t("div",{staticClass:"calculator__button",on:{click:function(_){return e.historyBack()}}},[t("Icon",{attrs:{type:"delete"}})],1),t("div",{staticClass:"calculator__button",on:{click:function(_){return e.percent()}}},[t("Icon",{attrs:{type:"percent"}})],1)]),t("div",{staticClass:"calculator__wrap-column"},e._l(e.signs,(function(_,s){return t("div",{key:_,staticClass:"calculator__button",on:{click:function(t){return e.addSign(_)}}},[t("Icon",{attrs:{type:s}})],1)})),0),e._l([7,8,9,4,5,6,1,2,3],(function(_){return t("div",{key:"num_"+_,staticClass:"calculator__button",domProps:{textContent:e._s(_)},on:{click:function(t){e.addSign(_.toString())}}})})),t("div",{staticClass:"calculator__button",on:{click:e.addDot}},[e._v(".")]),t("div",{staticClass:"calculator__button",on:{click:function(_){return e.addSign("0")}}},[e._v("0")]),t("div",{staticClass:"calculator__button",on:{click:e.plusMinus}},[e._v("±")]),t("div",{staticClass:"calculator__button calculator__button-equal",on:{click:e.equal}})],2)]),t("a",{staticClass:"minis",attrs:{href:"https://adequm.github.io/minis",target:"_blank"}},[e._v("Minis")])])},o=[],c=t("a97d"),u=c["a"],l=(t("85cf"),t("2877")),d=Object(l["a"])(u,n,o,!1,null,null,null),h=d.exports,f=t("2f62"),p={name:"App",components:{Calculator:h},data:function(){return{innerHeight:null}},computed:Object(a["a"])({},Object(f["b"])(["history","theme"])),methods:Object(a["a"])({},Object(f["c"])(["addToHistory","clearHistory","switchTheme"])),beforeMount:function(){var e=this;this.innerHeight=innerHeight,window.addEventListener("resize",(function(_){e.innerHeight=innerHeight}))}},E=p,v=(t("5c0b"),Object(l["a"])(E,r,i,!1,null,null,null)),m=v.exports,j=t("9483");Object(j["a"])("".concat("/calculator/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var g=t("2909"),O=(t("99af"),t("fb6a"),t("0e44")),b=t("0759"),P=t.n(b),M={};s["a"].use(f["a"]),M.state=function(){return{minisLang:"ru",minisTheme:"dark",minisCalculatorHistory:[]}},M.getters={lang:function(e){return e.minisLang},theme:function(e){return e.minisTheme},history:function(e){return e.minisCalculatorHistory}},M.mutations={addToHistory:function(e,_){var t=[].concat(Object(g["a"])(e.minisCalculatorHistory.slice(-9)),[_]);s["a"].set(e,"minisCalculatorHistory",t)},clearHistory:function(e){s["a"].set(e,"minisCalculatorHistory",[])},switchTheme:function(e){var _="light"==e.minisTheme?"dark":"light";s["a"].set(e,"minisTheme",_)}};var D=["minisTheme","minisLang","minisCalculatorHistory"];M.plugins=[P()({predicate:function(){return D}}),Object(O["a"])({paths:D})];var y=new f["a"].Store(M);s["a"].config.productionTip=!1,new s["a"]({store:y,render:function(e){return e(m)}}).$mount("#app")},"5c0b":function(e,_,t){"use strict";t("9c0c")},"5c73":function(e,_,t){},"85cf":function(e,_,t){"use strict";t("a88a")},"9c0c":function(e,_,t){},a88a:function(e,_,t){},a97d:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fb6a"),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("466d"),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_fill_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("cb29"),core_js_modules_es_array_fill_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_fill_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("b680"),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("8a79"),core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("2532"),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("2ca0"),core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_14__),_Icon__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("cdae");__webpack_exports__["a"]={name:"Calculator",components:{Icon:_Icon__WEBPACK_IMPORTED_MODULE_15__["a"]},props:{history:Array,isDark:Boolean},data:function(){return{value:"",fontSize:1,limit:30,signs:{divide:"/",x:"*",minus:"-",plus:"+"}}},watch:{value:function(e){this.changeFontSize(),e.length<=this.limit||(this.value=this.value.slice(0,this.limit))}},computed:{historyLast:function(){var e=this.history.slice(-1)[0];return e&&e[1]},extendedValue:function(){return this.value.replace(/\+/g," + ").replace(/\-/g," - ").replace(/\*/g," * ").replace(/\//g," / ")},brackets:function(){var e=this.value.match(/\(/g)||[],_=this.value.match(/\)/g)||[],t=e.length,s=_.length;return{starts:t,ends:s,isClosed:t===s}},endsBrackets:function(){var e=this.brackets,_=e.starts,t=e.ends;return new Array(_-t).fill(")").join("")}},methods:{checkFontSize:function(){var e=this.$refs.calculator,_=this.$refs.calculator__current;return e.clientWidth-_.clientWidth-50},changeFontSize:function(e){var _=this;this.$nextTick((function(){var e=_.checkFontSize();if(e<=0){if(_.fontSize<=.1)return;_.fontSize=+(_.fontSize-.1).toFixed(1),_.changeFontSize()}else if(e>100){if(_.fontSize>=1)return;_.fontSize=+(_.fontSize+.1).toFixed(1),_.changeFontSize()}}))},getHistoryPoint:function(e,_,t){return this.historyLast==this.value&&t==this.history.length-1?e:"".concat(e," = ").concat(_)},addSign:function(e){"Ошибка"==this.value&&(this.value="");var _=!isNaN(+e),t=!this.value,s="-"==e,r=!!/(\/|\*|\+)/.exec(e),i=!!/\d+\.\d+$/.exec(this.value),a=!!/(\/|\*|\+|\-)$/.exec(this.value),n=this.value.endsWith("("),o=this.value.endsWith(")"),c=!!/\d$/.exec(this.value),u=this.value.endsWith(".");if("("==e&&(c||o)&&(this.value+="*"),(!_||!o)&&(!this.brackets.isClosed||")"!=e)&&(!t&&!n||!r)&&(!this.value.endsWith("0")||!_||i)&&(!s||!this.value.endsWith("-"))&&(_||!u)){if(!t&&a&&r){if("-"==this.value)return;return this.historyBack(),this.addSign(e)}this.value+=e}},addDot:function(){"Ошибка"==this.value&&(this.value="");var e=this.value.split(/(\/|\*|\+|\-)/g).slice(-1)[0];e||(this.value+="0"),e.includes(".")||(this.value+=".")},plusMinus:function(){"Ошибка"==this.value&&(this.value=""),this.value||(this.value+="0"),this.value=this.value.startsWith("-")?this.value.slice(1):"-".concat(this.value)},percent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,_=this.value.toString().replace(/^\d*(\.|)/,"").length;this.value&&"Ошибка"!=this.value&&(this.limit<=_+e||/\d$/.exec(this.value)&&(this.value=(parseFloat(this.value)/Math.pow(10,e)).toFixed(_+e)))},clear:function(){this.value="",this.$emit("clearHistory")},historyBack:function(e){"Ошибка"!=this.value?this.value=e?"":this.value.slice(0,-1):this.value=""},equal:function equal(){if("Ошибка"!=this.value&&(this.value=this.value.replace(/(\-|\+|\*|\/|\.|\()*$/,""),this.value)){this.value+=this.endsBrackets;var equation=this.value.match(/\d|\.|\-|\+|\*|\/|\(|\)/g).join(""),answer=parseFloat(eval(equation).toFixed(10));equation.replace(/(\(|\))/g,"")!=answer&&(answer.toString().endsWith("Infinity")||isNaN(answer)?this.value="Ошибка":(this.value=answer.toString(),this.$refs.calculator__history.scrollTop=1e3,this.$emit("addToHistory",[equation,answer])))}},keydown:function(e){var _=e.key,t=e.shiftKey;switch(_){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":case"*":case"/":case"(":case")":this.addSign(_);break;case".":case",":this.addDot();break;case"%":this.percent();break;case"Backspace":this.historyBack(t);break;case"Enter":this.equal();break}}},beforeMount:function(){document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}}},cdae:function(e,_,t){"use strict";var s=function(){var e=this,_=e.$createElement,t=e._self._c||_;return t("svg",{class:{rotate:e.rotate},attrs:{width:e.size||e.width,height:e.size||e.height,fill:"none",stroke:e.color,"stroke-width":e.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round"}},[t("use",{attrs:{href:"./feather-sprite.svg#"+e.type}})])},r=[],i=(t("a9e3"),{name:"Icon",props:{type:String,size:Number,width:{type:Number,default:24},height:{type:Number,default:24},strokeWidth:{type:Number,default:2},rotate:{type:Boolean,default:!1},color:{type:String,default:"currentColor"}}}),a=i,n=(t("3960"),t("2877")),o=Object(n["a"])(a,s,r,!1,null,"06bc6a04",null);_["a"]=o.exports}});
//# sourceMappingURL=app.e45fbcd6.js.map